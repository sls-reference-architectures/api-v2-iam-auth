service: api-v2-iam-auth-SUT

custom:
  stage: ${opt:stage, self:provider.stage}

provider:
  name: aws
  runtime: nodejs14.x
  stage: dev
  deploymentBucket:
    name: com.reference-architecture.deploys
    serverSideEncryption: AES256
  lambdaHashingVersion: "20201221"
  httpApi:
    useProviderTags: true
  tags:
    lumigo:auto-trace: true

plugins:
  - serverless-esbuild
  - serverless-deployment-bucket

functions:
  helloWorldX:
    handler: src/helloHandler.default
    events:
      - httpApi:
          method: get
          path: /hello
          authorizer:
            type: aws_iam
